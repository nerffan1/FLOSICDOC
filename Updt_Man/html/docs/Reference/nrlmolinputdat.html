<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Controlling a calculation: the NRLMOL_INPUT.DAT file &mdash; NRLMOL  2020 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Quick start guide to running a FLOSIC calculation" href="../setupcal.html" />
    <link rel="prev" title="FLOSIC Mesh" href="mesh.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #4372c4" >

          
          
          <a href="../../main.html">
            
              <img src="../../_static/log.jpeg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Introduction and Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install/toc.html">Installing FLOSIC</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../install/Prerequisites.html">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/Build.html">Accessing and compiling the code</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/Support.html">Support</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="toc.html">Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="files.html">Input and Output Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="functionals.html">Exchange correlation functionals</a></li>
<li class="toctree-l2"><a class="reference internal" href="isymgen.html">Basis sets: the ISYMGEN file</a></li>
<li class="toctree-l2"><a class="reference internal" href="mesh.html">FLOSIC Mesh</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Controlling a calculation: the NRLMOL_INPUT.DAT file</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../setupcal.html">Quick start guide to running a FLOSIC calculation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/tuttoc.html">Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/dtutorials/tutorial1.html">Tutorial 1: Molecular geometry optimization at the DFT level</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/dtutorials/tutorial2.html">Tutorial 2: a FLOSIC calculation for H2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/dtutorials/T3-FOD_opt.html">Tutorial 3:  FOD optimization of a water molecule</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/ddos/density_of_states.html">Plotting density of states using NRLMOL</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/ddos/density_of_states.html#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/ddos/density_of_states.html#setup">Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/ddos/density_of_states.html#results">Results</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/ddos/density_of_states.html#membership-files">Membership files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/ddos/density_of_states.html#plotting">Plotting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/ddos/density_of_states.html#gnuplot-usage">Gnuplot usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/ddos/density_of_states.html#bibliography">Bibliography</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../nrlmolfaq.html">Getting more information about FLOSIC</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #4372c4" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../main.html">NRLMOL </a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../main.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="toc.html">Reference</a></li>
      <li class="breadcrumb-item active">Controlling a calculation: the NRLMOL_INPUT.DAT file</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/docs/Reference/nrlmolinputdat.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="controlling-a-calculation-the-nrlmol-input-dat-file">
<span id="nrlmolinput"></span><h1>Controlling a calculation: the NRLMOL_INPUT.DAT file<a class="headerlink" href="#controlling-a-calculation-the-nrlmol-input-dat-file" title="Permalink to this heading"></a></h1>
<p>The <strong>NRLMOL_INPUT.DAT</strong> is an auxiliary input file that allows setting of control parameters for calculation.  If it does not exist, then it will be
created by the FLOSIC executable using default values.</p>
<p>The NRLMOL_INPUT.DAT with default values of parameters as of today (August 15, 2019) is given below.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># Put Y,N or number next to the equal sign to determine execution
# Don&#39;t forget the quotation marks for the letters
# All variables in this list end with V

&amp;input_data
ATOMSPHV      = &#39;N&#39;
BASISV        = &#39;DEFAULT&#39; ! Specify basis for calculation(basis.txt)
CALCTYPEV     = &#39;LBFGS&#39;
DFTD3V        = &#39;N&#39; ! Set to Y to do include Grimmes DFT-D3 dispersion
DIAG1V        =  1  ! diagonalization to use on regular arrays (diagge.f90)
DIAG2V        =  1  ! diagonalization to use on packed arrays (diag_dspgv.f90)
DIAG3V        =  0  ! diagonalization to use on parallel (sdiagge_n.f90)
DMATV         = &#39;N&#39; ! Create/use/mix density matrix
DOSOCCUV      = &#39;N&#39; ! Controls wether to calculate density of states (only in DFA)
FIXMV         = &#39;N&#39; ! Fix spin moment
JNTDOSV       = &#39;N&#39; ! This calculates jonit density of states (only in DFA)
MAXSCFV       = 100 ! Maximum SCF iterations
MIXINGV       = &#39;P&#39; ! (H)amiltonian (P)otential (D)ensity matrix mixing
NONSCFV       = &#39;N&#39; ! Set to Y to do a non SCF calculation
NONSCFFORCESV = &#39;N&#39; ! Set to Y to calculate forces in a non SCF calculation
NWFOUTV       = 10  ! Write WFOUT file for every N-th iteration
POPULATIONV   = &#39;N&#39; ! Population analysis
RHOGRIDV      = &#39;N&#39; ! Set to Y to execute RHOGRID
SCALEDLBFGSV  = &#39;Y&#39; ! Set to Y to scaled LBFGS (only in SIC)
SCFTOLV       = 1.0D-6 ! SCF tolerance
SPNPOLV       = &#39;N&#39; ! Run spin polarized calculation from CLUSTER
VERYFINEMESHV = &#39;N&#39; ! Set to Y to use very fine mesh
SYMMETRYV     = &#39;N&#39; ! Set to Y to detect symmetry
WFGRIDV       = &#39;N&#39; ! set to Y to write orbitals in cube format (only in DFA)
WFFRMV        = &#39;N&#39; ! set to Y to write Fermi orbitals in cube format (only in SIC)
&amp;end

</pre></div>
</div>
<p>A large number of entries related to calculation of certain properties are given as yes or no. Here <strong>N</strong> means <em>NO</em>. If <strong>Y</strong> then the calculation of a given property is requested. Note that certain calculations such as, for example, the calculation of joint density of states is often useful only at the final converged geometry.</p>
<p>Most of the variables are already explained briefly in the NRLMOL_INPUT.DAT file. Below we add some comments on a few of them.</p>
<blockquote>
<div><ol class="arabic">
<li><p>ATOMSPHV: Set to <strong>Y</strong> to calculate charge and spin charge in each inequivalent atom integrated over a sphere of specified  radius.</p></li>
<li><p>BASISV: Default value is <strong>DEFAULT</strong> which refers to the NRLMOL basis optimized for the PBE functional.
This variable specifies which basis set is to be used. Users interested in using standard sets from the literature should look up basis.txt in the basis
subdirectory of the directory containing the source files. This file lists all the basis sets available. The user
needs to specify only the first string before the “.” from the entries in basis.txt. For example, if the user
wants to use 6-31G basis then he should replace DEFAULT with 6-31G.</p></li>
<li><p>CALCTYPEV:   Default is <strong>LBFGS</strong>.
Available choices:  <strong>SCF-ONLY</strong>, <strong>CONJUGATE-GRADIENT</strong>.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>SCF-ONLY</strong> This choice is used when the user is not interested in an atomic geometry optimization. Atomic forces are not computed with this setting.</p></li>
<li><p><strong>CONJUGATE-GRADIENT</strong> : Atomic geometry optimization is done using the conjugate-gradient algorithm.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>DIAG1V        =   Default is <strong>1</strong>
This variable allows different diagonalization algorithms to use for  diagonalization of the Hamiltonian.</p>
<blockquote>
<div><p>The options for this variable are:
0)  DSGVX (LAPACKL: computes selected eigenvalues, and optionally eigenvectors).
1)  DSGVD (Default if matrix size is below 100).  Uses a divide and conquer algorithm to compute eigenvectors.
2)  DSGV   (This is the slowest of the available) option.</p>
</div></blockquote>
</li>
<li><p>DIAG2V        =    Default is <strong>1</strong>
This variable allows diagonalization of the Hamiltonian using packed storage format for memory savings. This is useful for large system sizes.</p>
<blockquote>
<div><p>Available options are:</p>
<blockquote>
<div><ol class="arabic simple" start="0">
<li><p>DSPGVX (LAPACK: computes selected eigenvalues, and optionally eigenvectors).</p></li>
<li><p>DSPGVD (Default if matrix size is below 100).  Uses a divide and conquer algorithm to compute eigenvectors.</p></li>
<li><p>DSPGV (QR- factorization. This is the slowest of the available) option.</p></li>
</ol>
</div></blockquote>
<p>The option 1 (DSPGVD) is the fastest if all eigenvectors are required otherwise use the default 0.
Note that FLOSIC doesn’t use <strong>SCALAPACK</strong></p>
</div></blockquote>
</li>
<li><p>POPULATIONV   = Default is <strong>N</strong>
When it is set to Y, Mulliken and Lowdin Population analysis calculations are run. Note that this is available only for spin polarized calculations.</p></li>
<li><p>RHOGRIDV  = Default is <strong>N</strong>
When set to Y,  it will generate a CUBE file for visulaization of total and spin density (spin up - spin down).</p></li>
<li><p>SCALEDLBFGSV  = Default is <strong>Y</strong>
This indicates the FOD optimization algorithm. Here scaled LBFGS is set as the default FOD optimization routine. Conjugate Gradient is used when this option is set to ‘N’.</p></li>
</ol>
</div></blockquote>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="mesh.html" class="btn btn-neutral float-left" title="FLOSIC Mesh" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../setupcal.html" class="btn btn-neutral float-right" title="Quick start guide to running a FLOSIC calculation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023,   NRLMOL users .
      <span class="lastupdated">Last updated on Feb 26, 2023.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>